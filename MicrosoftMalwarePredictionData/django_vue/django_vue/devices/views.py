from django.shortcuts import render
from django.http import JsonResponse
from rest_framework.viewsets import ModelViewSet
from .models import Device, System
from .serializers import DeviceSerializer, SystemSerializer
from lib import network_scan, system_status

class DeviceViewSet(ModelViewSet):
    queryset = Device.objects.all()
    serializer_class = DeviceSerializer

# # Create your views here.
# def index(request):
#     # network_devices = Device.objects.all()
#     network_devices = []
#     for device in Device.objects.all():
#         network_devices.append({
#             'ip_address': device.ip_address,
#             'mac_address': device.mac_address,
#             'vendor': device.vendor,
#             'mobile':device.mobile,
#             'port':device.port,
#         })
#     return JsonResponse(network_devices, safe=False)

# def network_device(request):
#     return render(request, 'devices/network_device.html')

class SystemViewSet(ModelViewSet):
    queryset = System.objects.all()
    serializer_class = SystemSerializer